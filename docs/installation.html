<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
    <title>dotMobi :: WordPress Mobile Pack :: Installation</title>
    <link rel="stylesheet" href="style.css" type="text/css" media="screen" />
  </head>
  <body>
    <div id='body'>
      <h1>WordPress Mobile Pack :: Installation</h1>
      <p>
        <small>
          v1.0; James Pearce, dotMobi, 12/02/09
          <br />
          Copyright 2009, MTLD Top Level Domain Ltd
        </small>
      </p>
      <h2>Contents</h2>
      <ul id='contents'>
        <li><a href='#p1'>Quick guide</a>
          <ul>
            <li><a href='#p1.1'>WordPress v2.7 and later</a></li>
            <li><a href='#p1.2'>WordPress v2.6 and earlier</a></li>
            <li><a href='#p1.3'>Make the cache writable</a></li>
            <li><a href='#p1.4'>Make the themes directory writable</a></li>
          </ul>
        </li>
        <li><a href='#p2'>Comprehensive guide</a></li>
        <li><a href='#p3'>Testing your installation</a></li>
        <li><a href='#p4'>Further reading</a></li>
      </ul>

      <h2 id='p1'>Quick guide</h2>
      <p>The pack is easy to install and will work immediately with the default settings. However, it is also very easy to configure it with your own preferences.</p>

      <h3 id='p1.1'>WordPress v2.7 and later</h3>
      <p>On WordPress v2.7 and later, the installation is as follows:</p>
      <ol>
        <li>Go to the 'Plugins' / 'Add new' menu</li>
        <li>Upload <code>wordpress_mobile_pack.zip</code> then press 'Install now'.</li>
        <li>Activate the switcher plugin. Change its settings as required.</li>
        <li>Select which desktop widgets are to appear on the mobile theme.</li>
        <li>Enjoy.</li>
      </ol>

      <h3 id='p1.2'>WordPress v2.6 and earlier</h3>
      <p>On WordPress v2.5 and v2.6, the installation is very slightly different:</p>
      <ol>
        <li>Locate your WordPress install on the file system</li>
        <li>Extract the contents of <code>wordpress_mobile_pack.zip</code> into <code>wp-content/plugins</code></li>
        <li>Activate the switcher plugin. Change its settings as required.</li>
        <li>Select which desktop widgets are to appear on the mobile theme.</li>
        <li>Enjoy.</li>
      </ol>
      <h3 id='p1.3'>Make the cache writable</h3>
      <p><strong>NB:</strong> the web server needs to have write-access to the image cache folder <code>wp-content/plugins/wordpress_mobile_pack/plugins/wpmp_transcoder/c</code>. If you have installed the plugin with WordPress 2.7, this should already be the case. Otherwise, or if you see errors when the plugin tries to resize images, you will need to set the permissions on that folder appropriately.</p>
      <p>Ensure that the <code>c</code> flags are <code>rwxrwxrwx</code>, or whatever you choose in order to be web-server-writable:</p>
      <pre>      wordpress $> cd wp-content/plugins
        plugins $> cd wordpress_mobile_pack/plugins/wpmp_transcoder
wpmp_transcoder $> sudo chmod 777 c
wpmp_transcoder $> ls -al
-----------------------------------------------------------------
drwxrwxrwx  3 root  staff    102 20 Apr 10:08 c
-rwxrwxrwx  1 root  staff  13003 20 Apr 10:43 wpmp_transcoder.php</pre>
      <h3 id='p1.4'>Make the themes directory writable</h3>
      <p><strong>NB:</strong> the web server also needs to have write-access to the themes folder <code>wp-content/themes</code>, as it installs themes in that directory as part of the plugin activation.</p>
      <p>If you have installed the plugin with WordPress 2.7, this may already be the case. Otherwise, or if you see errors when activating the plugin, you will need to set the permissions on that folder appropriately.</p>
      <p>Ensure that the <code>themes</code> flags are <code>rwxrwxrwx</code>, or whatever you choose in order to be web-server-writable, using a similar technique to that above.</p>

      <h2 id='p2'>Comprehensive guide</h2>
      <p>A more comprehensive setup process and guide to configuration is as follows:</p>
      <ol>
        <li>Locate your WordPress install on the file system</li>
        <li>Extract the contents of <code>wordpress_mobile_pack.zip</code> into <code>wp-content/plugins</code></li>
        <li>In <code>wp-content/plugins</code> you should now see a directory named <code>wordpress_mobile_pack</code></li>
        <li>Ensure the <code>wp-content/themes</code> directory and <code>wpmp_transcoder/c</code> cache directory are web-server-writable, as described above.</li>
        <li>Login to the WordPress admin panel at <code>http://yoursite.com/wp-admin</code></li>
        <li>Go to the 'Plugins' menu.</li>
        <li>You should see 'Mobile Switcher' in the list. If not, check steps 2 and 3.</li>
        <li>Click 'Activate' for that plugin.</li>
        <li>In <code>wp-content/themes</code> you should now see a selection of new directories including <code>mobile_pack_base</code>, <code>mobile_pack_blue</code> etc.</li>
        <li>Go to the 'Themes' page in the 'Design' menu (or 'Appearance' in WordPress v2.7)</li>
        <li>You should see a number of mobile themes in the list. If not, check steps 8 and the permissions on the theme directory.
          <ul>
            <li>
              <strong>NB</strong> do NOT select one of these themes. If you do so, even your desktop users will receive a mobile theme. The selected theme here should reflect what you want your desktop users to continue to see, and you'll configure the mobile theme choice separately in the switcher settings.
            </li>
          </ul>
        </li>
        <li>Go to the 'Mobile Switcher' page in the 'Design' menu (or 'Appearance' in WordPress v2.7)</li>
        <li>Choose a switcher mode:
          <ol>
            <li>'Disabled' removes switching and all users receive the desktop theme</li>
            <li>'Browser detection' means that the switcher will try to identify if your user has a mobile device</li>
            <li>'Domain mapping' requires you to provide a different domain for your mobile users to access the site</li>
            <li>'BOTH' (recommended) enables a combined algorithm that uses recognition and domain usage for the best user experience</li>
          </ol>
        </li>
        <li>If you are using 'domain mapping' (or the combined approach), ensure all your relevant domains are resolving to this single WordPress installation. This may require you to configure your DNS and web server configurations.</li>
        <li>Choose the theme to be used for your mobile users.</li>
        <li>If you want to use browser detection, list the only algorithm currently available is user-agent prefix mapping.</li>
        <li>If you want to use domain mapping, list the desktop and mobile domains to be used for mapping. These all need to resolve to this installation.</li>
        <li>Users can choose whether to toggle between sites. Decide whether you want this link to appear in the theme footer. Alternatively, you can enable the 'Mobile Switcher Link' widget in the 'Widgets' admin menu.</li>
        <li>Go to the 'Widgets' menu and select which of the currently enabled desktop widgets you wish to have displaying on your mobile theme.</li>
        <li>Take a look at the other mobile admin settings and widgets available.</li>
        <li>You're all done!</li>
      </ol>

      <h2 id='p3'>Testing your installation</h2>
      <p>Ideally, use a real mobile device to access your (public) site address and check that the switching and theme work correctly.</p>
      <p>You can also download a number of mobile emulators that can run on a desktop PC and simulate mobile devices.</p>
      <p>If you use the Firefox Browser, the 'User-Agent Switcher' add-on can be configured to send mobile headers and crudely simulate a mobile device's request.</p>
      <p>You can also use dotMobi's free on-line ready.mobi tool to test the compliance and mobile quality of your site.</p>
      <p>Finally, you might consider DeviceAnywhere's web-based service that allows you to remotely test your site with hundreds of different models of handsets.</p>
      <p>If you discover that your device is not being correctly served the mobile themes, please check the plugin and theme installations. Failing that, contact dotMobi with details of your device and site.</p>
      <p>If you have a new or unusual device, and are happy editing PHP files, you may wish to add a new user-agent prefix to the list of those to be detected. You'll find these (4-letter) prefixes in the file <code>wp-content/plugins/mobile_pack_switcher/lite_detection.php</code></p>

      <h2 id='p4'>Further Reading</h2>
      <p>This pack also comes with an <a href='overview.html'>overview guide</a> and a <a href='readme.html'>readme</a> of known issues.</p>
      <p>There is an <a href='index.html'>index</a> to the included documentation</p>
    </div>
  </body>
</html>
